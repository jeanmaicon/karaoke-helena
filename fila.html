<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fila de Músicas – Karaokê da Helena e Julia</title>
  <!-- Apenas a parte do <style> alterada -->

<style>
  @font-face {
    font-family: 'Font-On-A-Stick';
    src: url('Font-On-A-Stick.ttf') format('truetype');
  }

  body {
    font-family: 'Font-On-A-Stick', cursive;
    background: linear-gradient(to bottom, #aeeafd, #ffffff);
    background-image: url('https://i.ibb.co/VpBzqbHS/bg-karaoke-helena.png');
    background-size: 320px 240px;
    background-repeat: repeat;
    background-position: bottom;
    margin: 0;
    padding: 0;
    color: #333;
    text-align: center;
  }

  .container {
    background-color: rgba(255, 255, 255, 0.8);
    padding: 30px;
    margin: 50px auto;
    width: 90%;
    max-width: 500px;
    border-radius: 20px;
    box-shadow: 0 0 10px #b3e5fc;
  }

  h1 {
    font-size: 30px;
    color: #0077c2;
    margin-bottom: 15px;
    letter-spacing: 3px;
  }

  ul {
    list-style: none;
    padding: 0;
  }

  li {
    margin: 10px 0;
    padding: 12px;
    background-color: #e65596;
    border-radius: 10px;
    text-align: left;
    font-size: 20px; /* 👈 Aumentado para 15px */
  }

  .nome {
    font-weight: bold;
    letter-spacing: 1px;
    font-size: 20px; /* 👈 Aumentado para 15px */
  }

  .link {
    display: block;
    margin-top: 5px;
    color: #0077c2;
    font-size: 20px; /* 👈 Aumentado para 15px */
    letter-spacing: 1px;
  }

  a.voltar {
    display: inline-block;
    margin-top: 20px;
    color: #0077c2;
    text-decoration: none;
    font-weight: bold;
    letter-spacing: 2px;
  }

  .agora-container {
    background-color: #ffd6e8;
    padding: 30px;
    margin: 50px auto 20px;
    width: 90%;
    max-width: 670px;
    border-radius: 20px;
    box-shadow: 0 0 10px #b3e5fc;
    font-size: 30px; /* 👈 Aumentado para 15px */
    letter-spacing: 1px;
  }

  .painel-musica {
    background-color: #fff;
    border-radius: 10px;
    padding: 15px;
    margin-top: 10px;
    font-size: 30px; /* 👈 Aumentado para 15px */
    letter-spacing: 1px;
    color: #333;
  }
  .galeria-de-imagens {
  display: flex; /* Ativa o Flexbox para alinhar os itens internos */
  justify-content: center; /* Centraliza as imagens horizontalmente */
  align-items: center; /* Centraliza as imagens verticalmente */
  gap: 10px; /* Adiciona um pequeno espaço entre as imagens */
  }
  </style>

</head>
<body>
  <div class="agora-container">
    <div class="galeria-de-imagens">
      <img src="https://i.ibb.co/9HhS1rqg/bg-karaoke-helena-removebg-preview.png" alt="Imagem 1" width="200" height="150">
      <img src="https://i.ibb.co/qYwqWCrh/Karaoke-da-Julia-1-removebg-preview.png" alt="Imagem 2" width="200" height="150">
    </div>
    <h1>🎶 Agora cantando:</h1>
    <div id="agoraCantando" class="painel-musica">
      <em>Carregando música atual...</em>
    </div>
  </div>

  <div class="container">
    <h1>🎵 Fila de Músicas 🎵</h1>
    <ul id="listaFila">
      <li>Carregando fila...</li>
    </ul>
    <a class="voltar" href="index.html"><h1>🔙 Voltar para enviar nova música</h1></a>
  </div>

  <script>
    const listaFila = document.getElementById('listaFila');
    const painelAgoraCantando = document.getElementById('agoraCantando');

    const supabaseUrl = 'https://uemhcrsoujipgduuznbf.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVlbWhjcnNvdWppcGdkdXV6bmJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczODY2MDAsImV4cCI6MjA3Mjk2MjYwMH0.SFZX58XrmHDTuJOlfA6JP_0sB5admEpcTAtnMKJPC2c';

    async function carregarFila() {
      const res = await fetch(`${supabaseUrl}/rest/v1/fila?select=*`, {
        headers: {
          apikey: supabaseKey,
          Authorization: `Bearer ${supabaseKey}`
        }
      });

      const data = await res.json();
      const somenteFila = data.filter(item => item.status !== 'AGORA_CANTANDO');
      somenteFila.sort((a, b) => a.id - b.id);

      listaFila.innerHTML = "";

      somenteFila.forEach((item, index) => {
        const posicao = `${index + 1}º`;

        const li = document.createElement('li');
        li.innerHTML = `
          <div class="nome">${posicao} – ${item.nome}</div>
          <div>${item.musica}</div>
          <div>⏰ ${item.horario}</div>
          ${item.youtube ? `<a class="link" href="${item.youtube}" target="_blank">▶️ Ver no YouTube</a>` : ""}
        `;
        listaFila.appendChild(li);
      });
    }

    async function carregarAgoraCantando() {
      const res = await fetch(`${supabaseUrl}/rest/v1/fila?select=*&status=eq.AGORA_CANTANDO&limit=1`, {
        headers: {
          apikey: supabaseKey,
          Authorization: `Bearer ${supabaseKey}`
        }
      });

      const data = await res.json();
      const agora = data[0];

      if (!agora) {
        painelAgoraCantando.innerHTML = `<em>Nenhuma música em execução no momento.</em>`;
      } else {
        painelAgoraCantando.innerHTML = `
          <strong>${agora.nome}</strong><br>
          ${agora.musica}<br>
          ⏰ ${agora.horario}<br>
          ${agora.youtube ? `<a href="${agora.youtube}" target="_blank">▶️ Ver no YouTube</a>` : ""}
        `;
      }
    }

    // Carregamento inicial
    carregarFila();
    carregarAgoraCantando();

    // Atualizações automáticas a cada 2 segundos
    setInterval(() => {
      carregarFila();
      carregarAgoraCantando();
    }, 2000);
  </script>
</body>
</html>















